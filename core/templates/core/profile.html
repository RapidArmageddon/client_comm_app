{% extends 'base.html' %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="row g-0">
            <div class="col-md-4 text-center bg-light">
                <!-- Profile Photo -->
                <img
                    src="{% if user.profile_photo %}{{ user.profile_photo.url }}{% else %}{% static 'images/default.png' %}{% endif %}"
                    class="img-fluid rounded-circle mt-3"
                    alt="Profile Photo"
                    style="width: 150px; height: 150px; object-fit: cover;">
                <h5 class="mt-3">{{ user.name }}</h5>
                <p class="text-muted">{{ user.role }}</p>
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title">Profile Details</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Email:</strong> {{ user.email }}</li>
                        <li class="list-group-item"><strong>Business:</strong> {{ user.business }}</li>
                        <li class="list-group-item"><strong>Clients Total:</strong> {{ user.client_set.count }}</li>
                        <li class="list-group-item"><strong>Messages Sent:</strong> {{ user.message_set.count }}</li>
                        <li class="list-group-item"><strong>WhatsApp ID:</strong> {{ user.whatsapp_id|default:"Not Configured" }}</li>
                        <li class="list-group-item"><strong>Membership:</strong> {{ user.membership }}</li>
                        <li class="list-group-item"><strong>Phone:</strong> {{ user.phone_number|default:"Not Provided" }}</li>
                        <li class="list-group-item"><strong>Date of Birth:</strong> {{ user.dob|date:"F d, Y"|default:"Not Provided" }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}